(function(e){function o(o){for(var n,s,c=o[0],a=o[1],u=o[2],d=0,f=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);l&&l(o);while(f.length)f.shift()();return r.push.apply(r,u||[]),t()}function t(){for(var e,o=0;o<r.length;o++){for(var t=r[o],n=!0,c=1;c<t.length;c++){var a=t[c];0!==i[a]&&(n=!1)}n&&(r.splice(o--,1),e=s(s.s=t[0]))}return e}var n={},i={app:0},r=[];function s(o){if(n[o])return n[o].exports;var t=n[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=n,s.d=function(e,o,t){s.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,o){if(1&o&&(e=s(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)s.d(t,n,function(o){return e[o]}.bind(null,n));return t},s.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(o,"a",o),o},s.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},s.p="/firstprojectvuejs/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=o,c=c.slice();for(var u=0;u<c.length;u++)o(c[u]);var l=a;r.push([0,"chunk-vendors"]),t()})({0:function(e,o,t){e.exports=t("56d7")},"034f":function(e,o,t){"use strict";var n=t("64a9"),i=t.n(n);i.a},4366:function(e,o,t){},"56d7":function(e,o,t){"use strict";t.r(o);t("cadf"),t("551c"),t("f751"),t("097d");var n=t("2b0e"),i=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{attrs:{id:"app"}},[t("game")],1)},r=[],s=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"game"},[t("p",[e._v("Bienvenue au jeu du cookie clicker")]),t("button",{staticClass:"button_cookie",on:{click:function(o){return e.addCookies(1)}}},[t("img",{staticClass:"cookie_image",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRSBDKzOQPWkG8jDyo_ybq0uYzt98I7CSVR9RQrEAlqH4-qWyqy4w"}})]),t("p",[e._v("Unsold inventory : "+e._s(e.nbCookies))]),t("p",[e._v("Cookies sold : "+e._s(e.nbOfCookiesSold))]),t("p",[e._v("Total money spent : "+e._s(e.totalMoneySpent)+" €")]),t("p",[e._v("Available funds : "+e._s(e.money.toFixed(1))+" €")]),t("p",[e._v("Price per cookie : "+e._s(e.pricePerCookie.toFixed(1))+" € "),t("button",{on:{click:e.raiseCookiePrice}},[e._v("Raise cookie price ?")])]),e.canBuyFactory?t("div",[t("button",{on:{click:e.buyFactory}},[e._v("Acheter factory ?")]),e._v(" "+e._s(e.factoryPrice)+" €\n  ")]):e._e(),e.canBuyMarketingCampaign?t("div",[t("button",{on:{click:e.investInMarketing}},[e._v("Faire du facebook Ads ?")]),e._v(" "+e._s(e.marketingActionPrice)+" €\n  ")]):e._e(),t("div",[t("button",{on:{click:e.resetGame}},[e._v("Reset")])]),e._l(e.factories,function(o,n){return t("cookie-factory",{key:n,ref:"cookieFactories",refInFor:!0,attrs:{money:e.money,initDataFactory:o},on:{produceCookies:e.addCookies,spendMoney:e.spendMoney}})})],2)},c=[],a=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"factory"},[t("div",[e._v("Je suis une factory et j'ai "+e._s(e.nbCookies)+" cookie"),e.nbCookies>1?t("span",[e._v("s")]):e._e()]),t("div",[e._v("Je produis "+e._s(e.cookiesProducedPerSecond)+" cookie par seconde")]),e.money>=e.upgradePrice?t("button",{on:{click:e.upgrade}},[e._v("Upgrade factory")]):e._e()])},u=[],l={name:"cookie-factory",props:["money","initDataFactory"],data:function(){return{nbCookies:0,produceCookiesTimerId:null,cookiesProducedPerSecond:1,upgradePrice:100}},methods:{produceCookies:function(){var e=this;this.produceCookiesTimerId=setInterval(function(){e.nbCookies+=e.cookiesProducedPerSecond,e.$emit("produceCookies",e.cookiesProducedPerSecond)},1e3)},upgrade:function(){this.cookiesProducedPerSecond+=1,this.$emit("spendMoney",this.upgradePrice)},dataToSave:function(){return{nbCookies:this.nbCookies,cookiesProducedPerSecond:this.cookiesProducedPerSecond}},initProgression:function(){this.nbCookies=this.initDataFactory.nbCookies||this.nbCookies,this.cookiesProducedPerSecond=this.initDataFactory.cookiesProducedPerSecond||this.cookiesProducedPerSecond}},mounted:function(){this.initProgression(),this.produceCookies()},beforeDestroy:function(){clearInterval(this.produceCookiesTimerId)}},d=l,f=(t("b430"),t("2877")),p=Object(f["a"])(d,a,u,!1,null,null,null),y=p.exports,k={saveProgression:function(e,o,t,n,i,r,s){localStorage.setItem("nbCookies",e),localStorage.setItem("money",o),localStorage.setItem("factories",JSON.stringify(t)),localStorage.setItem("pricePerCookie",n.toFixed(1)),localStorage.setItem("buyingCookieFrequency",i),localStorage.setItem("nbOfCookiesSold",r),localStorage.setItem("totalMoneySpent",s)},loadProgression:function(){return{nbCookies:parseInt(localStorage.getItem("nbCookies"))||0,money:parseInt(localStorage.getItem("money"))||0,factories:JSON.parse(localStorage.getItem("factories"))||[],pricePerCookie:parseFloat(localStorage.getItem("pricePerCookie"))||1,buyingCookieFrequency:parseInt(localStorage.getItem("buyingCookieFrequency"))||1e3,nbOfCookiesSold:parseInt(localStorage.getItem("nbOfCookiesSold"))||0,totalMoneySpent:parseInt(localStorage.getItem("totalMoneySpent"))||0}}},m={name:"game",components:{CookieFactory:y},data:function(){return{nbCookies:0,money:0,pricePerCookie:1,factoryPrice:10,saveTimerId:null,buyingTimerId:null,factories:[],buyingCookieFrequency:1e3,marketingActionPrice:100,nbOfCookiesSold:0,totalMoneySpent:0}},computed:{canBuyFactory:function(){return this.money>=this.factoryPrice},canBuyMarketingCampaign:function(){return this.money>=this.marketingActionPrice}},methods:{addCookies:function(e){this.nbCookies+=e},initBuyingTimer:function(){var e=this;this.buyingTimerId=setInterval(function(){e.nbCookies>0&&(e.nbCookies-=1,e.nbOfCookiesSold+=1,e.money+=e.pricePerCookie)},this.buyingCookieFrequency||1e3)},initSaveTimer:function(){var e=this;this.saveTimerId=setInterval(function(){var o=void 0===e.$refs.cookieFactories||0===e.$refs.cookieFactories.length?[]:e.$refs.cookieFactories.map(function(e){return e.dataToSave()});k.saveProgression(e.nbCookies,e.money,o,e.pricePerCookie,e.buyingCookieFrequency,e.nbOfCookiesSold,e.totalMoneySpent)},1e3)},initProgression:function(){var e=k.loadProgression();console.log(e),this.nbCookies=e.nbCookies,this.money=e.money,this.factories=e.factories,this.pricePerCookie=e.pricePerCookie,this.buyingCookieFrequency=e.buyingCookieFrequency,this.nbOfCookiesSold=e.nbOfCookiesSold,this.totalMoneySpent=e.totalMoneySpent},resetGame:function(){this.nbCookies=0,this.money=0,this.factories=[],this.pricePerCookie=1,this.buyingCookieFrequency=1e3,this.nbOfCookiesSold=0,this.totalMoneySpent=0},spendMoney:function(e){this.money>=e&&(this.money-=e,this.totalMoneySpent+=e)},buyFactory:function(){this.money>=this.factoryPrice&&(this.spendMoney(this.factoryPrice),this.factories.push(1))},raiseCookiePrice:function(){this.pricePerCookie*=1.1,this.buyingCookieFrequency+=1e3,clearInterval(this.buyingTimerId),this.initBuyingTimer()},investInMarketing:function(){alert("Wow le growth hacker ici"),this.spendMoney(this.marketingActionPrice),this.buyingCookieFrequency/=2}},mounted:function(){this.initProgression(),this.initBuyingTimer(),this.initSaveTimer()},beforeDestroy:function(){clearInterval(this.buyingTimerId),clearInterval(this.saveTimerId)}},h=m,b=(t("68e4"),Object(f["a"])(h,s,c,!1,null,null,null)),g=b.exports,v={name:"app",components:{Game:g}},C=v,P=(t("034f"),Object(f["a"])(C,i,r,!1,null,null,null)),S=P.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(S)}}).$mount("#app")},"64a9":function(e,o,t){},"68e4":function(e,o,t){"use strict";var n=t("4366"),i=t.n(n);i.a},"90ea":function(e,o,t){},b430:function(e,o,t){"use strict";var n=t("90ea"),i=t.n(n);i.a}});
//# sourceMappingURL=app.224414c2.js.map